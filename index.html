<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>7K Life</title>
  <style>
    :root {
      --bg: #0f0f0f;
      --card: #1c1c1c;
      --accent: #00e6c0;
      --accent-shadow: rgba(0, 230, 192, 0.4);
      --cyan: #00e6c0;
      --text: #eee;
      --subtext: #aaa;
      --radius: 12px;
      --shadow: 0 0 8px var(--accent-shadow);
      --font: 'Segoe UI', sans-serif;
    }
    * { margin:0; padding:0; box-sizing:border-box; font-family: var(--font); }
    body {
      background: var(--bg);
      color: var(--text);
      padding: 20px;
      overflow-x: hidden;
    }
    h1 {
      font-size: 28px;
      color: var(--cyan);
      display: inline-block;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    .btn-sm {
      background: var(--accent);
      color: #000;
      border:none;
      border-radius:50%;
      width:36px; height:36px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:20px;
      box-shadow: 0 0 6px var(--accent-shadow);
      cursor:pointer;
    }
    .cards {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
    }
    .card {
      background: var(--card);
      border-radius: var(--radius);
      padding: 16px;
      box-shadow: var(--shadow);
    }
    .card h2 {
      color: var(--accent);
      margin-bottom: 8px;
      font-size: 18px;
    }
    .sub {
      font-size: 14px;
      color: var(--subtext);
      margin-bottom: 12px;
    }

    /* Habit Tracker */
    .tracker .item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin: 10px 0;
    }
    .streak {
      display: flex;
      align-items: center;
    }
    .streak button {
      background: var(--card);
      color: var(--accent);
      border: none;
      font-size: 20px;
      width: 36px; height:36px;
      border-radius:50%;
      box-shadow: var(--shadow);
      cursor: pointer;
    }
    .streak span {
      margin: 0 12px;
      font-size: 18px;
    }
    .toggle {
      position: relative;
      width: 50px; height: 28px;
    }
    .toggle input {
      opacity: 0;
      width:0; height:0;
    }
    .slider {
      position:absolute;
      cursor:pointer;
      top:0; left:0; right:0; bottom:0;
      background: #333;
      border-radius: 34px;
      transition: .3s;
      box-shadow: var(--shadow);
    }
    .slider:before {
      position:absolute;
      content: "";
      height: 22px; width:22px;
      left:3px; bottom:3px;
      background: #111;
      transition: .3s;
      border-radius:50%;
    }
    input:checked + .slider {
      background: var(--accent);
    }
    input:checked + .slider:before {
      transform: translateX(22px);
    }
    .sleep input {
      width: 60px;
      padding:6px;
      border:none;
      border-radius:6px;
      background:#333;
      color:#eee;
      text-align:center;
      box-shadow: var(--shadow);
    }
    .sleep button {
      margin-left:8px;
      padding:6px 12px;
      border:none;
      border-radius:6px;
      background: var(--accent);
      color:#000;
      box-shadow: var(--shadow);
      cursor:pointer;
    }

    /* To-Do */
    .todo {
      position: relative;
    }
    .todo input {
      width: calc(100% - 60px);
      padding:8px;
      border:none;
      border-radius:6px;
      background:#333;
      color:#fff;
    }
    .todo .add-btn {
      position:absolute;
      right:16px; top: 44px;
      background: var(--accent);
      width:48px; height:48px;
      border:none;
      border-radius:50%;
      box-shadow: var(--shadow);
      font-size:24px;
      cursor:pointer;
    }
    .todo-list {
      margin-top: 60px;
    }
    .todo-item {
      background:#111;
      border-radius:6px;
      padding:12px;
      margin-bottom:10px;
      display:flex;
      align-items:center;
      justify-content: space-between;
    }
    .todo-item input[type=checkbox] {
      accent-color: var(--accent);
      margin-right:12px;
      width:18px; height:18px;
    }
    .todo-item .delete {
      background:none;
      border:none;
      color:#e55;
      font-size:18px;
      cursor:pointer;
    }

    /* Journal */
    .journal textarea {
      width:100%;
      height:100px;
      border:none;
      border-radius:8px;
      background:#121212;
      color:#fff;
      padding:10px;
      margin-bottom:12px;
    }
    .journal .row {
      display:flex;
      gap:12px;
      margin-bottom:12px;
    }
    .journal .row input {
      flex:1;
      padding:6px;
      border:none;
      border-radius:6px;
      background:#333;
      color:#fff;
    }
    .journal .actions {
      display:flex;
      justify-content: space-between;
    }
    .journal button {
      padding:8px 16px;
      border:none;
      border-radius:6px;
      background: var(--accent);
      color:#000;
      box-shadow: var(--shadow);
      cursor:pointer;
    }
    .history-panel, .notes-panel {
      position: fixed;
      top:0; left:0;
      width:100%; height:100%;
      background: var(--card);
      padding:20px;
      overflow-y:auto;
      display:none;
      z-index:100;
    }

    /* Study Mode */
    .study {
      text-align:center;
    }
    .study img {
      width:100%;
      border-radius:8px;
      margin-top:12px;
      object-fit:cover;
      height:150px;
    }
  </style>
</head>
<body>

  <header>
    <h1>7K Life</h1>
    <button class="btn-sm" onclick="toggleStudy()">&#10003;</button>
  </header>

  <div class="cards">

    <!-- Habit Tracker -->
    <div class="card tracker">
      <h2>Habit Tracker</h2>
      <div class="sub">Monitor your key habits for self-improvement.</div>

      <div class="item">
        <div>Fap Streak:</div>
        <div class="streak">
          <button onclick="changeStreak(-1)">–</button>
          <span id="fapCount">0</span>
          <button onclick="changeStreak(1)">+</button>
          <span style="margin-left:6px;color:var(--subtext)">days</span>
        </div>
      </div>

      <div class="item">
        <div>Workout Today:</div>
        <label class="toggle">
          <input type="checkbox" id="workoutToggle" onchange="saveWorkout()"/>
          <span class="slider"></span>
        </label>
      </div>

      <div class="item sleep">
        <div>Sleep Hours (last night):</div>
        <div>
          <input type="number" id="sleepInput" min="0" max="24" value="0"/>
          <button onclick="saveSleep()">Set</button>
          <span style="margin-left:6px;color:var(--subtext)">h</span>
        </div>
      </div>
    </div>

    <!-- To-Do List -->
    <div class="card todo">
      <h2>To-Do List</h2>
      <div class="sub">Organize your tasks and stay productive.</div>
      <input type="text" id="todoInput" placeholder="Add a new task…"/>
      <button class="add-btn" onclick="addTodo()">＋</button>
      <div class="todo-list" id="todoList"></div>
    </div>

    <!-- Journal -->
    <div class="card journal">
      <h2>Journal</h2>
      <div class="sub">Reflect on your day, thoughts, and experiences.</div>
      <textarea id="journalInput" placeholder="Write your thoughts here…"></textarea>
      <div class="row">
        <input type="text" id="moodInput" placeholder="Mood (optional)"/>
        <input type="text" id="tagsInput" placeholder="Tags (comma-separated)"/>
      </div>
      <div class="actions">
        <button onclick="showHistory()">View History</button>
        <button onclick="saveJournal()">Save</button>
      </div>
    </div>

    <!-- Study Mode -->
    <div class="card study">
      <h2>Study Mode</h2>
      <div class="sub">Your dedicated zone for CLAT / MHCET preparation.</div>
      <p style="font-size:14px;color:var(--subtext);">
        This section is under active development. Soon you'll find flashcards, quizzes, study materials, and AI-powered learning tools here!
      </p>
      <img src="https://via.placeholder.com/400x150" alt="Under development"/>
    </div>

  </div>

  <!-- Swipe Panels -->
  <div class="notes-panel" id="notesPanel">
    <h2>Advanced Notes</h2>
    <textarea id="notesArea" style="height:60vh;"></textarea>
    <button onclick="closePanel('notesPanel')">Close</button>
  </div>
  <div class="history-panel" id="historyPanel">
    <h2>Journal History</h2>
    <div id="historyContent"></div>
    <button onclick="closePanel('historyPanel')">Close</button>
  </div>

  <script>
    // Local storage models
    const habits = JSON.parse(localStorage.getItem('habits')) || { fap:0, workout:false, sleep:0 };
    const todos = JSON.parse(localStorage.getItem('todos')) || [];
    const journals = JSON.parse(localStorage.getItem('journals')) || [];

    // Init UI
    function init() {
      document.getElementById('fapCount').textContent = habits.fap;
      document.getElementById('workoutToggle').checked = habits.workout;
      document.getElementById('sleepInput').value = habits.sleep;
      renderTodos();
    }
    init();

    // Habit handlers
    function changeStreak(delta) {
      habits.fap = Math.max(0, habits.fap + delta);
      localStorage.setItem('habits', JSON.stringify(habits));
      document.getElementById('fapCount').textContent = habits.fap;
    }
    function saveWorkout() {
      habits.workout = document.getElementById('workoutToggle').checked;
      localStorage.setItem('habits', JSON.stringify(habits));
    }
    function saveSleep() {
      const v = parseInt(document.getElementById('sleepInput').value)||0;
      habits.sleep = v;
      localStorage.setItem('habits', JSON.stringify(habits));
    }

    // To-Do handlers
    function renderTodos() {
      const list = document.getElementById('todoList');
      list.innerHTML = '';
      todos.forEach((t,i)=>{
        const div = document.createElement('div');
        div.className='todo-item';
        div.innerHTML=`
          <label>
            <input type="checkbox" ${t.done?'checked':''} onchange="toggleDone(${i})"/>
            <span>${t.text}</span>
          </label>
          <button class="delete" onclick="deleteTodo(${i})">🗑️</button>
        `;
        list.appendChild(div);
      });
    }
    function addTodo() {
      const txt = document.getElementById('todoInput').value.trim();
      if(!txt) return;
      todos.push({ text:txt, done:false });
      localStorage.setItem('todos', JSON.stringify(todos));
      document.getElementById('todoInput').value='';
      renderTodos();
    }
    function toggleDone(i) {
      todos[i].done = !todos[i].done;
      localStorage.setItem('todos', JSON.stringify(todos));
      renderTodos();
    }
    function deleteTodo(i) {
      todos.splice(i,1);
      localStorage.setItem('todos', JSON.stringify(todos));
      renderTodos();
    }

    // Journal handlers
    function saveJournal() {
      const txt = document.getElementById('journalInput').value.trim();
      const mood = document.getElementById('moodInput').value.trim();
      const tags = document.getElementById('tagsInput').value.trim();
      if(!txt) return alert('Please write something first.');
      journals.push({
        date: new Date().toLocaleString(),
        text: txt,
        mood, tags
      });
      localStorage.setItem('journals', JSON.stringify(journals));
      alert('Saved.');
      document.getElementById('journalInput').value='';
      document.getElementById('moodInput').value='';
      document.getElementById('tagsInput').value='';
    }
    function showHistory() {
      let html = '';
      journals.slice().reverse().forEach(j=>{
        html += `<div style="margin-bottom:16px;">
          <div style="font-size:14px;color:var(--accent)">${j.date}</div>
          <div style="margin:8px 0;">${j.text}</div>
          ${j.mood?`<div><b>Mood:</b> ${j.mood}</div>`:''}
          ${j.tags?`<div><b>Tags:</b> ${j.tags}</div>`:''}
          <hr style="border-color:#333"/>
        </div>`;
      });
      document.getElementById('historyContent').innerHTML = html;
      document.getElementById('historyPanel').style.display = 'block';
    }

    // Panels
    function closePanel(id) {
      document.getElementById(id).style.display = 'none';
    }
    let startX=0;
    document.body.addEventListener('touchstart', e=> startX=e.changedTouches[0].screenX );
    document.body.addEventListener('touchend', e=>{
      const dx = e.changedTouches[0].screenX - startX;
      if(dx>100) document.getElementById('notesPanel').style.display='block';
      if(dx<-100) showHistory();
    });

    // (dummy) Study toggle
    function toggleStudy() {
      alert('Study Mode coming soon!');
    }
  </script>
</body>
            </html> 
